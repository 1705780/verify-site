services:
  - product: cai
    name: verify-site
    repository:
      name: verify-site
      owner: cai
      multi_merge_allowed: false
      min_approvers: 1
    service_secrets:
      - name: moonbeam_token
        github_token: true
        secret_data:
          field: token
          path: /secret/ethos/tenants/cloudtech_doc_cloud/SignMicroservices/Jenkins/GitCorpToken
      - name: ssh_private_key
        global: "true"
        secret_data:
          field: PrivateKey
          path: /secret/ethos/tenants/cloudtech_doc_cloud/SignMicroservices/Jenkins/ADCOPS-github-ssh-keys
      - name: artifactory_corp_credentials
        global: "true"
        secret_data:
          field: corp
          path: /secret/ethos/tenants/cloudtech_doc_cloud/SignMicroservices/Jenkins/Artifactory
      - name: Tessa_API_Key
        secret_data:
          field: Tessa_API_Key
          path: /secret/ethos/tenants/cloudtech_doc_cloud/common
    environments:
      - name: Build
        tier: 5
        production: false
        auto_promote: false
        optional: false
        single_rollback_allowed: false
        environment_stages:
          - name: default
            step: 1
        projects:
          - title: Static-content Build
            name: client-cai-verify-site-makefile-exec
            project_group: sign-build
            build_type: lambda
            lambda: proteus
            stage: default
            rollback: false
            deploy_token: false
            deployed_sha_for_rollback: false
            required: true
            unstable_allowed: false
            build_params:
              - name: TYPE
                param_type: string
                default: static-content
                hidden: false
              - name: ACTION
                param_type: string
                default: build
                hidden: false
              - name: PATH_PREFIX
                param_type: string
                default: verify-site
                hidden: false
              - name: SERVICE_NAME
                param_type: string
                default: verify-site
                hidden: false
              - name: enableTessaAnalysis
                param_type: string
                default: "true"
                hidden: false
              - name: pushPageObjects
                param_type: string
                default: "true"
                hidden: false
              - name: ARTIFACTORY_DOCKER_REGISTRY
                param_type: string
                default: docker-cai-verify-site-release.dr.corp.adobe.com
                hidden: false
              - name: DOCKER_REPO
                param_type: string
                default: static-pipeline
                hidden: false
      - name: Dev
        tier: 4
        production: false
        auto_promote: false
        optional: false
        single_rollback_allowed: false
        environment_stages:
          - name: deploy---Dev
            step: 1
        projects:
          - title: Static-content dev deploy
            name: client-cai-verify-site-makefile-exec
            project_group: sign-dev
            build_type: lambda
            lambda: proteus
            stage: deploy---Dev
            rollback: false
            deploy_token: false
            deployed_sha_for_rollback: false
            required: true
            unstable_allowed: false
            build_params:
              - name: TYPE
                param_type: string
                default: static-content
                hidden: false
              - name: ACTION
                param_type: string
                default: deploy
                hidden: false
              - name: SERVICE_NAME
                param_type: string
                default: verify-site
                hidden: false
              - name: SUPPORT_ROLLBACK_CLEANUP
                param_type: string
                default: "true"
                hidden: false
              - name: ENVIRONMENT_NAME
                param_type: string
                default: dev
                hidden: false
              - name: clientIAMRole
                param_type: string
                default: arn:aws:iam::503556268241:role/VerifySiteDeployerIAMRole
                hidden: false
              - name: ARTIFACTORY_DOCKER_REGISTRY
                param_type: string
                default: docker-cai-verify-site-release.dr.corp.adobe.com
                hidden: false
              - name: DOCKER_REPO
                param_type: string
                default: static-pipeline
                hidden: false
              - name: S3_BUCKETS
                param_type: string
                default: adobe-cai-verify-dev
                hidden: false
